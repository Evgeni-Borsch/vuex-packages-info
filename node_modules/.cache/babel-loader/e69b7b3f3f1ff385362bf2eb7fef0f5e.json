{"remainingRequest":"/home/borshewski/Рабочий стол/vue/vuex-packages-info/node_modules/babel-loader/lib/index.js!/home/borshewski/Рабочий стол/vue/vuex-packages-info/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/borshewski/Рабочий стол/vue/vuex-packages-info/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/borshewski/Рабочий стол/vue/vuex-packages-info/src/components/modalWindow.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/borshewski/Рабочий стол/vue/vuex-packages-info/src/components/modalWindow.vue","mtime":1626339900816},{"path":"/home/borshewski/Рабочий стол/vue/vuex-packages-info/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/borshewski/Рабочий стол/vue/vuex-packages-info/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/borshewski/Рабочий стол/vue/vuex-packages-info/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/borshewski/Рабочий стол/vue/vuex-packages-info/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC52YWx1ZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgeyBQaWUgfSBmcm9tICd2dWUtY2hhcnRqcyc7CmltcG9ydCB7IEV2ZW50QnVzIH0gZnJvbSAnLi9FdmVudEJ1cyc7CmV4cG9ydCBkZWZhdWx0IHsKICBleHRlbmRzOiBQaWUsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGluZm86ICcnLAogICAgICB2ZXJzaW9uczogW10sCiAgICAgIHRvdGFsRG93bmxvYWRzOiBbXQogICAgfTsKICB9LAogIHByb3BzOiB7CiAgICBpc1R5cGU6IHsKICAgICAgdHlwZTogU3RyaW5nCiAgICB9LAogICAgdGl0bGU6IHsKICAgICAgdHlwZTogU3RyaW5nCiAgICB9LAogICAgc2hvd01vZGFsOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4KICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldFJlcXVlc3QodGhpcy5pc1R5cGUsIHRoaXMudGl0bGUpOwogIH0sCiAgd2F0Y2g6IHsKICAgIHJlcVBhcmFtczogZnVuY3Rpb24gcmVxUGFyYW1zKG5ld1ZhbHVlKSB7CiAgICAgIHRoaXMuZ2V0UmVxdWVzdChuZXdWYWx1ZS50eXBlLCBuZXdWYWx1ZS50aXRsZSk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBjbG9zZU1vZGFsOiBmdW5jdGlvbiBjbG9zZU1vZGFsKCkgewogICAgICBFdmVudEJ1cy4kZW1pdCgnY2xvc2VNb2RhbCcsIGZhbHNlKTsKICAgIH0sCiAgICBnZXRSZXF1ZXN0OiBmdW5jdGlvbiBnZXRSZXF1ZXN0KHR5cGUsIHRpdGxlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBheGlvcy5nZXQoImh0dHBzOi8vZGF0YS5qc2RlbGl2ci5jb20vdjEvcGFja2FnZS8iLmNvbmNhdCh0eXBlLCAiLyIpLmNvbmNhdCh0aXRsZSwgIi9zdGF0cyIpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzLmluZm8gPSByZXNwb25zZS5kYXRhOwoKICAgICAgICBfdGhpcy5yZXN1bHREYXRhKHJlc3BvbnNlLmRhdGEudmVyc2lvbnMpOwogICAgICB9KTsKICAgIH0sCiAgICByZXN1bHREYXRhOiBmdW5jdGlvbiByZXN1bHREYXRhKGluZm8pIHsKICAgICAgdGhpcy52ZXJzaW9ucyA9IE9iamVjdC5rZXlzKGluZm8pLnNsaWNlKC01KTsKICAgICAgdGhpcy50b3RhbERvd25sb2FkcyA9IE9iamVjdC52YWx1ZXMoaW5mbykuc2xpY2UoLTUpOwoKICAgICAgaWYgKHRoaXMudmVyc2lvbnMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdmFyIGdyYXBoQ2xhc3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuZ3JhcGhTdGF0ZSIpOwogICAgICAgIGdyYXBoQ2xhc3Muc3R5bGUuY29sb3IgPSAnIzc3YmQxMyc7CiAgICAgICAgcmV0dXJuIGdyYXBoQ2xhc3MuaW5uZXJIVE1MID0gJ25vIHZlcnNpb25zIGF2YWlsYWJsZSc7CiAgICAgIH0KCiAgICAgIHRoaXMucmVuZGVyQ2hhcnQoewogICAgICAgIGxhYmVsczogdGhpcy52ZXJzaW9ucywKICAgICAgICBkYXRhc2V0czogW3sKICAgICAgICAgIGxhYmVsOiAnIyBvZiBWb3RlcycsCiAgICAgICAgICBkYXRhOiB0aGlzLnRvdGFsRG93bmxvYWRzVmVyc2lvbnMsCiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFsncmdiYSgyNTUsIDk5LCAxMzIsIDAuMiknLCAncmdiYSg1NCwgMTYyLCAyMzUsIDAuMiknLCAncmdiYSgyNTUsIDIwNiwgODYsIDAuMiknLCAncmdiYSg3NSwgMTkyLCAxOTIsIDAuMiknLCAncmdiYSgxNTMsIDEwMiwgMjU1LCAwLjIpJywgJ3JnYmEoMjU1LCAxNTksIDY0LCAwLjIpJ10sCiAgICAgICAgICBib3JkZXJDb2xvcjogWydyZ2JhKDI1NSwgOTksIDEzMiwgMSknLCAncmdiYSg1NCwgMTYyLCAyMzUsIDEpJywgJ3JnYmEoMjU1LCAyMDYsIDg2LCAxKScsICdyZ2JhKDc1LCAxOTIsIDE5MiwgMSknLCAncmdiYSgxNTMsIDEwMiwgMjU1LCAxKScsICdyZ2JhKDI1NSwgMTU5LCA2NCwgMSknXSwKICAgICAgICAgIGJvcmRlcldpZHRoOiAyCiAgICAgICAgfV0KICAgICAgfSk7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgcmVxUGFyYW1zOiBmdW5jdGlvbiByZXFQYXJhbXMoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgdHlwZTogdGhpcy5pc1R5cGUsCiAgICAgICAgdGl0bGU6IHRoaXMudGl0bGUKICAgICAgfTsKICAgIH0sCiAgICB0b3RhbERvd25sb2Fkc1ZlcnNpb25zOiBmdW5jdGlvbiB0b3RhbERvd25sb2Fkc1ZlcnNpb25zKCkgewogICAgICB0cnkgewogICAgICAgIHJldHVybiB0aGlzLnRvdGFsRG93bmxvYWRzLm1hcChmdW5jdGlvbiAodikgewogICAgICAgICAgcmV0dXJuIHYudG90YWw7CiAgICAgICAgfSk7CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["modalWindow.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"modal-card\">\n        <v-card\n          color=\"rgb(0 56 56)\"\n          shaped\n          elevation=\"24\"\n          width=\"400px\"\n          max-height=\"392px\"\n          tile\n        >\n          <v-card-text \n            class=\"modal-card-text pb-0\"\n            text-sm-body-2\n          >\n            <div class=\"modal-card-text__header\">\n              <h3>\n               {{title}}  <span> ({{isType}}) </span> \n              </h3>\n              <img src=\"../assets/close.png\" alt=\"close\" class=\"close-btn\" @click=\"closeModal\">\n            </div>\n              <p class=\"about-downloads__versions\"> {{ info.total }} <span>downloads</span></p>\n             \n              \n            <div class=\"graphState\">\n              <canvas ref=\"canvas\" width=\"370px\" height=\"370px\"></canvas>\n            </div>\n          </v-card-text>\n          <v-card-actions class=\"pt-0\">\n          </v-card-actions>\n        </v-card>\n    </div>\n</template>\n\n<script>\n\nimport axios from 'axios'\nimport { Pie } from 'vue-chartjs'\nimport { EventBus } from './EventBus';\n\n\nexport default {\n    extends: Pie,\n    data() {\n      return {\n        info: '',\n        versions:[],\n        totalDownloads:[],\n      }\n    },\n\n    props:{\n      isType: {\n        type: String\n      },\n      title: {\n        type: String,\n      },\n      showModal:{\n        type: Boolean\n      }\n    },\n    mounted(){  \n      this.getRequest(this.isType,this.title);\n    },\n    watch:{\n      reqParams(newValue){\n        this.getRequest(newValue.type, newValue.title);\n      }\n    },\n    methods:{\n      closeModal(){\n        EventBus.$emit('closeModal', false);\n      },\n      getRequest(type,title){\n        axios\n          .get(`https://data.jsdelivr.com/v1/package/${type}/${title}/stats`)\n          .then(response => {\n              this.info = response.data;\n              this.resultData(response.data.versions)\n          });\n      },\n      resultData(info){\n        this.versions = Object.keys(info).slice(-5);\n        this.totalDownloads = Object.values(info).slice(-5);\n        if( this.versions.length === 0 ){\n          let graphClass = document.querySelector(\".graphState\");\n          graphClass.style.color = '#77bd13';\n          return graphClass.innerHTML = 'no versions available'; \n        } \n        this.renderChart({\n        labels: this.versions,\n        datasets: [{\n            label: '# of Votes',\n            data: this.totalDownloadsVersions,\n            backgroundColor: [\n                'rgba(255, 99, 132, 0.2)',\n                'rgba(54, 162, 235, 0.2)',\n                'rgba(255, 206, 86, 0.2)',\n                'rgba(75, 192, 192, 0.2)',\n                'rgba(153, 102, 255, 0.2)',\n                'rgba(255, 159, 64, 0.2)'\n            ],\n            borderColor: [\n                'rgba(255, 99, 132, 1)',\n                'rgba(54, 162, 235, 1)',\n                'rgba(255, 206, 86, 1)',\n                'rgba(75, 192, 192, 1)',\n                'rgba(153, 102, 255, 1)',\n                'rgba(255, 159, 64, 1)'\n            ],\n            borderWidth: 2\n          }]\n        })\n      }\n    },\n    computed:{\n      reqParams(){\n        return{\n          type: this.isType,\n          title: this.title\n        }\n      },\n      totalDownloadsVersions(){\n        try {\n          return this.totalDownloads.map( v => v.total)\n        } catch (err) {\n          return console.log(err);\n        }\n      }\n    },\n}\n\n</script>\n\n<style>\n.modal-card-text__header{\n  color: #fff;\n  border: 1px solid;\n  border-radius: 10px;\n  padding: 10px;\n  text-align: center;\n}\n.modal-card-text__header > h3{\n  display: flex;\n  flex-direction: column;\n}\n.modal-card-text__header > h3 > span  {\n      font-size: 12px;\n    font-weight: 100;\n}\n.modal-card{\n  color: #fff;\n  max-width: 295px;\n  height: 426px;\n}\n.about-downloads__versions{\n  font-family: sans-serif;\n  color: red;\n  text-align: center;\n  font-weight: 800;\n}\n.about-downloads__versions > span {\n  font-weight: 400;\n  color: #fff;\n}\n.close-btn {\n  position: absolute;\n  top: 0.5%;\n  right: 0.5%;\n  width: 6%;\n  height: 4%;\n  background: #fae7e7;\n  border-radius: 30px;\n  cursor: pointer;\n  opacity: 0.7;\n}\n.close-btn:hover{\n  background: red;\n  box-shadow: 0 0 10px red, 0 0 40px rgb(0, 0, 0);\n}\n</style>"],"sourceRoot":"src/components"}]}