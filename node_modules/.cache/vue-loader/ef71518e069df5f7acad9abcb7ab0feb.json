{"remainingRequest":"/home/borshewski/Рабочий стол/vue/vuex-packages-info/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/borshewski/Рабочий стол/vue/vuex-packages-info/src/components/modalWindow.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/borshewski/Рабочий стол/vue/vuex-packages-info/src/components/modalWindow.vue","mtime":1626339900816},{"path":"/home/borshewski/Рабочий стол/vue/vuex-packages-info/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/borshewski/Рабочий стол/vue/vuex-packages-info/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/borshewski/Рабочий стол/vue/vuex-packages-info/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/borshewski/Рабочий стол/vue/vuex-packages-info/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnCmltcG9ydCB7IFBpZSB9IGZyb20gJ3Z1ZS1jaGFydGpzJwppbXBvcnQgeyBFdmVudEJ1cyB9IGZyb20gJy4vRXZlbnRCdXMnOwoKCmV4cG9ydCBkZWZhdWx0IHsKICAgIGV4dGVuZHM6IFBpZSwKICAgIGRhdGEoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgaW5mbzogJycsCiAgICAgICAgdmVyc2lvbnM6W10sCiAgICAgICAgdG90YWxEb3dubG9hZHM6W10sCiAgICAgIH0KICAgIH0sCgogICAgcHJvcHM6ewogICAgICBpc1R5cGU6IHsKICAgICAgICB0eXBlOiBTdHJpbmcKICAgICAgfSwKICAgICAgdGl0bGU6IHsKICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIH0sCiAgICAgIHNob3dNb2RhbDp7CiAgICAgICAgdHlwZTogQm9vbGVhbgogICAgICB9CiAgICB9LAogICAgbW91bnRlZCgpeyAgCiAgICAgIHRoaXMuZ2V0UmVxdWVzdCh0aGlzLmlzVHlwZSx0aGlzLnRpdGxlKTsKICAgIH0sCiAgICB3YXRjaDp7CiAgICAgIHJlcVBhcmFtcyhuZXdWYWx1ZSl7CiAgICAgICAgdGhpcy5nZXRSZXF1ZXN0KG5ld1ZhbHVlLnR5cGUsIG5ld1ZhbHVlLnRpdGxlKTsKICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6ewogICAgICBjbG9zZU1vZGFsKCl7CiAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2Nsb3NlTW9kYWwnLCBmYWxzZSk7CiAgICAgIH0sCiAgICAgIGdldFJlcXVlc3QodHlwZSx0aXRsZSl7CiAgICAgICAgYXhpb3MKICAgICAgICAgIC5nZXQoYGh0dHBzOi8vZGF0YS5qc2RlbGl2ci5jb20vdjEvcGFja2FnZS8ke3R5cGV9LyR7dGl0bGV9L3N0YXRzYCkKICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICB0aGlzLmluZm8gPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgIHRoaXMucmVzdWx0RGF0YShyZXNwb25zZS5kYXRhLnZlcnNpb25zKQogICAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIHJlc3VsdERhdGEoaW5mbyl7CiAgICAgICAgdGhpcy52ZXJzaW9ucyA9IE9iamVjdC5rZXlzKGluZm8pLnNsaWNlKC01KTsKICAgICAgICB0aGlzLnRvdGFsRG93bmxvYWRzID0gT2JqZWN0LnZhbHVlcyhpbmZvKS5zbGljZSgtNSk7CiAgICAgICAgaWYoIHRoaXMudmVyc2lvbnMubGVuZ3RoID09PSAwICl7CiAgICAgICAgICBsZXQgZ3JhcGhDbGFzcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5ncmFwaFN0YXRlIik7CiAgICAgICAgICBncmFwaENsYXNzLnN0eWxlLmNvbG9yID0gJyM3N2JkMTMnOwogICAgICAgICAgcmV0dXJuIGdyYXBoQ2xhc3MuaW5uZXJIVE1MID0gJ25vIHZlcnNpb25zIGF2YWlsYWJsZSc7IAogICAgICAgIH0gCiAgICAgICAgdGhpcy5yZW5kZXJDaGFydCh7CiAgICAgICAgbGFiZWxzOiB0aGlzLnZlcnNpb25zLAogICAgICAgIGRhdGFzZXRzOiBbewogICAgICAgICAgICBsYWJlbDogJyMgb2YgVm90ZXMnLAogICAgICAgICAgICBkYXRhOiB0aGlzLnRvdGFsRG93bmxvYWRzVmVyc2lvbnMsCiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogWwogICAgICAgICAgICAgICAgJ3JnYmEoMjU1LCA5OSwgMTMyLCAwLjIpJywKICAgICAgICAgICAgICAgICdyZ2JhKDU0LCAxNjIsIDIzNSwgMC4yKScsCiAgICAgICAgICAgICAgICAncmdiYSgyNTUsIDIwNiwgODYsIDAuMiknLAogICAgICAgICAgICAgICAgJ3JnYmEoNzUsIDE5MiwgMTkyLCAwLjIpJywKICAgICAgICAgICAgICAgICdyZ2JhKDE1MywgMTAyLCAyNTUsIDAuMiknLAogICAgICAgICAgICAgICAgJ3JnYmEoMjU1LCAxNTksIDY0LCAwLjIpJwogICAgICAgICAgICBdLAogICAgICAgICAgICBib3JkZXJDb2xvcjogWwogICAgICAgICAgICAgICAgJ3JnYmEoMjU1LCA5OSwgMTMyLCAxKScsCiAgICAgICAgICAgICAgICAncmdiYSg1NCwgMTYyLCAyMzUsIDEpJywKICAgICAgICAgICAgICAgICdyZ2JhKDI1NSwgMjA2LCA4NiwgMSknLAogICAgICAgICAgICAgICAgJ3JnYmEoNzUsIDE5MiwgMTkyLCAxKScsCiAgICAgICAgICAgICAgICAncmdiYSgxNTMsIDEwMiwgMjU1LCAxKScsCiAgICAgICAgICAgICAgICAncmdiYSgyNTUsIDE1OSwgNjQsIDEpJwogICAgICAgICAgICBdLAogICAgICAgICAgICBib3JkZXJXaWR0aDogMgogICAgICAgICAgfV0KICAgICAgICB9KQogICAgICB9CiAgICB9LAogICAgY29tcHV0ZWQ6ewogICAgICByZXFQYXJhbXMoKXsKICAgICAgICByZXR1cm57CiAgICAgICAgICB0eXBlOiB0aGlzLmlzVHlwZSwKICAgICAgICAgIHRpdGxlOiB0aGlzLnRpdGxlCiAgICAgICAgfQogICAgICB9LAogICAgICB0b3RhbERvd25sb2Fkc1ZlcnNpb25zKCl7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHJldHVybiB0aGlzLnRvdGFsRG93bmxvYWRzLm1hcCggdiA9PiB2LnRvdGFsKQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgfQogICAgICB9CiAgICB9LAp9Cgo="},{"version":3,"sources":["modalWindow.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"modalWindow.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"modal-card\">\n        <v-card\n          color=\"rgb(0 56 56)\"\n          shaped\n          elevation=\"24\"\n          width=\"400px\"\n          max-height=\"392px\"\n          tile\n        >\n          <v-card-text \n            class=\"modal-card-text pb-0\"\n            text-sm-body-2\n          >\n            <div class=\"modal-card-text__header\">\n              <h3>\n               {{title}}  <span> ({{isType}}) </span> \n              </h3>\n              <img src=\"../assets/close.png\" alt=\"close\" class=\"close-btn\" @click=\"closeModal\">\n            </div>\n              <p class=\"about-downloads__versions\"> {{ info.total }} <span>downloads</span></p>\n             \n              \n            <div class=\"graphState\">\n              <canvas ref=\"canvas\" width=\"370px\" height=\"370px\"></canvas>\n            </div>\n          </v-card-text>\n          <v-card-actions class=\"pt-0\">\n          </v-card-actions>\n        </v-card>\n    </div>\n</template>\n\n<script>\n\nimport axios from 'axios'\nimport { Pie } from 'vue-chartjs'\nimport { EventBus } from './EventBus';\n\n\nexport default {\n    extends: Pie,\n    data() {\n      return {\n        info: '',\n        versions:[],\n        totalDownloads:[],\n      }\n    },\n\n    props:{\n      isType: {\n        type: String\n      },\n      title: {\n        type: String,\n      },\n      showModal:{\n        type: Boolean\n      }\n    },\n    mounted(){  \n      this.getRequest(this.isType,this.title);\n    },\n    watch:{\n      reqParams(newValue){\n        this.getRequest(newValue.type, newValue.title);\n      }\n    },\n    methods:{\n      closeModal(){\n        EventBus.$emit('closeModal', false);\n      },\n      getRequest(type,title){\n        axios\n          .get(`https://data.jsdelivr.com/v1/package/${type}/${title}/stats`)\n          .then(response => {\n              this.info = response.data;\n              this.resultData(response.data.versions)\n          });\n      },\n      resultData(info){\n        this.versions = Object.keys(info).slice(-5);\n        this.totalDownloads = Object.values(info).slice(-5);\n        if( this.versions.length === 0 ){\n          let graphClass = document.querySelector(\".graphState\");\n          graphClass.style.color = '#77bd13';\n          return graphClass.innerHTML = 'no versions available'; \n        } \n        this.renderChart({\n        labels: this.versions,\n        datasets: [{\n            label: '# of Votes',\n            data: this.totalDownloadsVersions,\n            backgroundColor: [\n                'rgba(255, 99, 132, 0.2)',\n                'rgba(54, 162, 235, 0.2)',\n                'rgba(255, 206, 86, 0.2)',\n                'rgba(75, 192, 192, 0.2)',\n                'rgba(153, 102, 255, 0.2)',\n                'rgba(255, 159, 64, 0.2)'\n            ],\n            borderColor: [\n                'rgba(255, 99, 132, 1)',\n                'rgba(54, 162, 235, 1)',\n                'rgba(255, 206, 86, 1)',\n                'rgba(75, 192, 192, 1)',\n                'rgba(153, 102, 255, 1)',\n                'rgba(255, 159, 64, 1)'\n            ],\n            borderWidth: 2\n          }]\n        })\n      }\n    },\n    computed:{\n      reqParams(){\n        return{\n          type: this.isType,\n          title: this.title\n        }\n      },\n      totalDownloadsVersions(){\n        try {\n          return this.totalDownloads.map( v => v.total)\n        } catch (err) {\n          return console.log(err);\n        }\n      }\n    },\n}\n\n</script>\n\n<style>\n.modal-card-text__header{\n  color: #fff;\n  border: 1px solid;\n  border-radius: 10px;\n  padding: 10px;\n  text-align: center;\n}\n.modal-card-text__header > h3{\n  display: flex;\n  flex-direction: column;\n}\n.modal-card-text__header > h3 > span  {\n      font-size: 12px;\n    font-weight: 100;\n}\n.modal-card{\n  color: #fff;\n  max-width: 295px;\n  height: 426px;\n}\n.about-downloads__versions{\n  font-family: sans-serif;\n  color: red;\n  text-align: center;\n  font-weight: 800;\n}\n.about-downloads__versions > span {\n  font-weight: 400;\n  color: #fff;\n}\n.close-btn {\n  position: absolute;\n  top: 0.5%;\n  right: 0.5%;\n  width: 6%;\n  height: 4%;\n  background: #fae7e7;\n  border-radius: 30px;\n  cursor: pointer;\n  opacity: 0.7;\n}\n.close-btn:hover{\n  background: red;\n  box-shadow: 0 0 10px red, 0 0 40px rgb(0, 0, 0);\n}\n</style>"]}]}