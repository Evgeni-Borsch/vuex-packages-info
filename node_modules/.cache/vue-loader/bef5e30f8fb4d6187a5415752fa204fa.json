{"remainingRequest":"/home/borshewski/Рабочий стол/vue/vuex-packages-info/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/borshewski/Рабочий стол/vue/vuex-packages-info/src/components/modalWindow.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/home/borshewski/Рабочий стол/vue/vuex-packages-info/src/components/modalWindow.vue","mtime":1626339900816},{"path":"/home/borshewski/Рабочий стол/vue/vuex-packages-info/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/borshewski/Рабочий стол/vue/vuex-packages-info/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/borshewski/Рабочий стол/vue/vuex-packages-info/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/borshewski/Рабочий стол/vue/vuex-packages-info/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/borshewski/Рабочий стол/vue/vuex-packages-info/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLm1vZGFsLWNhcmQtdGV4dF9faGVhZGVyewogIGNvbG9yOiAjZmZmOwogIGJvcmRlcjogMXB4IHNvbGlkOwogIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgcGFkZGluZzogMTBweDsKICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KLm1vZGFsLWNhcmQtdGV4dF9faGVhZGVyID4gaDN7CiAgZGlzcGxheTogZmxleDsKICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwp9Ci5tb2RhbC1jYXJkLXRleHRfX2hlYWRlciA+IGgzID4gc3BhbiAgewogICAgICBmb250LXNpemU6IDEycHg7CiAgICBmb250LXdlaWdodDogMTAwOwp9Ci5tb2RhbC1jYXJkewogIGNvbG9yOiAjZmZmOwogIG1heC13aWR0aDogMjk1cHg7CiAgaGVpZ2h0OiA0MjZweDsKfQouYWJvdXQtZG93bmxvYWRzX192ZXJzaW9uc3sKICBmb250LWZhbWlseTogc2Fucy1zZXJpZjsKICBjb2xvcjogcmVkOwogIHRleHQtYWxpZ246IGNlbnRlcjsKICBmb250LXdlaWdodDogODAwOwp9Ci5hYm91dC1kb3dubG9hZHNfX3ZlcnNpb25zID4gc3BhbiB7CiAgZm9udC13ZWlnaHQ6IDQwMDsKICBjb2xvcjogI2ZmZjsKfQouY2xvc2UtYnRuIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgdG9wOiAwLjUlOwogIHJpZ2h0OiAwLjUlOwogIHdpZHRoOiA2JTsKICBoZWlnaHQ6IDQlOwogIGJhY2tncm91bmQ6ICNmYWU3ZTc7CiAgYm9yZGVyLXJhZGl1czogMzBweDsKICBjdXJzb3I6IHBvaW50ZXI7CiAgb3BhY2l0eTogMC43Owp9Ci5jbG9zZS1idG46aG92ZXJ7CiAgYmFja2dyb3VuZDogcmVkOwogIGJveC1zaGFkb3c6IDAgMCAxMHB4IHJlZCwgMCAwIDQwcHggcmdiKDAsIDAsIDApOwp9Cg=="},{"version":3,"sources":["modalWindow.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"modalWindow.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"modal-card\">\n        <v-card\n          color=\"rgb(0 56 56)\"\n          shaped\n          elevation=\"24\"\n          width=\"400px\"\n          max-height=\"392px\"\n          tile\n        >\n          <v-card-text \n            class=\"modal-card-text pb-0\"\n            text-sm-body-2\n          >\n            <div class=\"modal-card-text__header\">\n              <h3>\n               {{title}}  <span> ({{isType}}) </span> \n              </h3>\n              <img src=\"../assets/close.png\" alt=\"close\" class=\"close-btn\" @click=\"closeModal\">\n            </div>\n              <p class=\"about-downloads__versions\"> {{ info.total }} <span>downloads</span></p>\n             \n              \n            <div class=\"graphState\">\n              <canvas ref=\"canvas\" width=\"370px\" height=\"370px\"></canvas>\n            </div>\n          </v-card-text>\n          <v-card-actions class=\"pt-0\">\n          </v-card-actions>\n        </v-card>\n    </div>\n</template>\n\n<script>\n\nimport axios from 'axios'\nimport { Pie } from 'vue-chartjs'\nimport { EventBus } from './EventBus';\n\n\nexport default {\n    extends: Pie,\n    data() {\n      return {\n        info: '',\n        versions:[],\n        totalDownloads:[],\n      }\n    },\n\n    props:{\n      isType: {\n        type: String\n      },\n      title: {\n        type: String,\n      },\n      showModal:{\n        type: Boolean\n      }\n    },\n    mounted(){  \n      this.getRequest(this.isType,this.title);\n    },\n    watch:{\n      reqParams(newValue){\n        this.getRequest(newValue.type, newValue.title);\n      }\n    },\n    methods:{\n      closeModal(){\n        EventBus.$emit('closeModal', false);\n      },\n      getRequest(type,title){\n        axios\n          .get(`https://data.jsdelivr.com/v1/package/${type}/${title}/stats`)\n          .then(response => {\n              this.info = response.data;\n              this.resultData(response.data.versions)\n          });\n      },\n      resultData(info){\n        this.versions = Object.keys(info).slice(-5);\n        this.totalDownloads = Object.values(info).slice(-5);\n        if( this.versions.length === 0 ){\n          let graphClass = document.querySelector(\".graphState\");\n          graphClass.style.color = '#77bd13';\n          return graphClass.innerHTML = 'no versions available'; \n        } \n        this.renderChart({\n        labels: this.versions,\n        datasets: [{\n            label: '# of Votes',\n            data: this.totalDownloadsVersions,\n            backgroundColor: [\n                'rgba(255, 99, 132, 0.2)',\n                'rgba(54, 162, 235, 0.2)',\n                'rgba(255, 206, 86, 0.2)',\n                'rgba(75, 192, 192, 0.2)',\n                'rgba(153, 102, 255, 0.2)',\n                'rgba(255, 159, 64, 0.2)'\n            ],\n            borderColor: [\n                'rgba(255, 99, 132, 1)',\n                'rgba(54, 162, 235, 1)',\n                'rgba(255, 206, 86, 1)',\n                'rgba(75, 192, 192, 1)',\n                'rgba(153, 102, 255, 1)',\n                'rgba(255, 159, 64, 1)'\n            ],\n            borderWidth: 2\n          }]\n        })\n      }\n    },\n    computed:{\n      reqParams(){\n        return{\n          type: this.isType,\n          title: this.title\n        }\n      },\n      totalDownloadsVersions(){\n        try {\n          return this.totalDownloads.map( v => v.total)\n        } catch (err) {\n          return console.log(err);\n        }\n      }\n    },\n}\n\n</script>\n\n<style>\n.modal-card-text__header{\n  color: #fff;\n  border: 1px solid;\n  border-radius: 10px;\n  padding: 10px;\n  text-align: center;\n}\n.modal-card-text__header > h3{\n  display: flex;\n  flex-direction: column;\n}\n.modal-card-text__header > h3 > span  {\n      font-size: 12px;\n    font-weight: 100;\n}\n.modal-card{\n  color: #fff;\n  max-width: 295px;\n  height: 426px;\n}\n.about-downloads__versions{\n  font-family: sans-serif;\n  color: red;\n  text-align: center;\n  font-weight: 800;\n}\n.about-downloads__versions > span {\n  font-weight: 400;\n  color: #fff;\n}\n.close-btn {\n  position: absolute;\n  top: 0.5%;\n  right: 0.5%;\n  width: 6%;\n  height: 4%;\n  background: #fae7e7;\n  border-radius: 30px;\n  cursor: pointer;\n  opacity: 0.7;\n}\n.close-btn:hover{\n  background: red;\n  box-shadow: 0 0 10px red, 0 0 40px rgb(0, 0, 0);\n}\n</style>"]}]}